# language: ru
Функция: Управление резюме
  Как пользователь
  Я хочу управлять резюме
  Чтобы хранить и получать информацию о резюме

  Предыстория:
    Дано хранилище инициализировано и очищено

  Сценарий: Добавление нового резюме
    Дано у меня есть резюме с именем "Иван Иванов" и местоположением "Москва"
    Когда я сохраняю резюме в хранилище
    Тогда хранилище должно содержать 1 резюме
    И резюме должно быть доступно по его UUID

  Сценарий: Обновление существующего резюме
    Дано у меня есть резюме с именем "Мария Петрова" и местоположением "Санкт-Петербург"
    И резюме сохранено в хранилище
    Когда я обновляю резюме с именем "Мария Сидорова" и местоположением "Новосибирск"
    Тогда обновленное резюме должно иметь имя "Мария Сидорова"
    И обновленное резюме должно иметь местоположение "Новосибирск"

  Сценарий: Удаление резюме
    Дано у меня есть 3 резюме в хранилище
    Когда я удаляю второе резюме
    Тогда хранилище должно содержать 2 резюме
    И удаленное резюме не должно быть доступно

  Сценарий: Очистка всех резюме
    Дано у меня есть 5 резюме в хранилище
    Когда я очищаю хранилище
    Тогда хранилище должно быть пустым
    И размер хранилища должен быть 0

  Сценарий: Получение всех резюме отсортированными
    Дано у меня есть следующие резюме:
      | name              | location         |
      | Алексей Брагин    | Екатеринбург     |
      | Борис Волков      | Казань           |
      | Виктор Давыдов    | Самара           |
    Когда я получаю все резюме отсортированными
    Тогда резюме должны быть возвращены в отсортированном порядке

  Сценарий: Обработка дублированного сохранения резюме
    Дано у меня есть резюме с именем "Тестовый Пользователь" и местоположением "Тестовый Город"
    И резюме сохранено в хранилище
    Когда я пытаюсь сохранить то же резюме снова
    Тогда должно быть выброшено исключение WebAppException
    И хранилище все еще должно содержать 1 резюме

  Структура сценария: Массовое создание резюме
    Дано хранилище инициализировано и очищено
    Когда я создаю резюме для "<имя>" в городе "<город>"
    И я добавляю контакт email "<email>"
    И я сохраняю резюме
    Тогда резюме должно существовать в хранилище
    И резюме должно иметь email "<email>"

    Примеры:
      | имя               | город          | email                    |
      | Дмитрий Егоров    | Омск           | dmitry.egorov@mail.ru    |
      | Елена Жукова      | Уфа            | elena.zhukova@yandex.ru  |
      | Фёдор Зайцев      | Пермь          | fedor.zaitsev@gmail.com  |
      | Галина Иванова    | Воронеж        | galina.ivanova@mail.ru   |
      | Игорь Кузнецов    | Нижний Новгород| igor.kuznetsov@inbox.ru  |