# language: ru
Функция: Управление периодами работы и учебы
  Как пользователь
  Я хочу точно указывать периоды своей деятельности
  Чтобы предоставить хронологически точную информацию

  Предыстория:
    Дано система управления периодами активна

  Сценарий: Создание периода с точными датами
    Когда я создаю период с "2020-01-15" по "2022-03-31"
    Тогда период должен длиться 2 года 2 месяца и 16 дней
    И период должен содержать 820 дней

  Сценарий: Создание текущего периода работы
    Когда я создаю период начиная с "2022-04-01" по "настоящее время"
    Тогда дата окончания должна быть пустой
    И период должен быть помечен как "текущий"
    И длительность должна рассчитываться динамически

  Сценарий: Объединение последовательных периодов
    Дано у меня есть период с "2019-01-01" по "2020-12-31"
    И у меня есть период с "2021-01-01" по "2022-12-31"
    Когда я объединяю эти периоды
    Тогда должен получиться один период с "2019-01-01" по "2022-12-31"
    И длительность должна быть 4 года

  Сценарий: Разделение периода на части
    Дано у меня есть период с "2020-01-01" по "2023-12-31"
    Когда я разделяю период на дату "2022-01-01"
    Тогда должно получиться 2 периода:
      | начало     | конец      | длительность |
      | 2020-01-01 | 2021-12-31 | 2 года       |
      | 2022-01-01 | 2023-12-31 | 2 года       |

  Сценарий: Проверка пересечения периодов
    Дано существуют периоды:
      | начало     | конец      | организация |
      | 2020-01-01 | 2021-06-30 | Компания А  |
      | 2021-01-01 | 2022-12-31 | Компания Б  |
      | 2022-06-01 | 2023-12-31 | Компания В  |
    Когда я проверяю пересечения
    Тогда должны быть найдены пересечения:
      | период1           | период2           | пересечение_месяцев |
      | Компания А        | Компания Б        | 6                   |
      | Компания Б        | Компания В        | 7                   |

  Сценарий: Расчет перерывов между периодами
    Дано у меня есть периоды работы:
      | начало     | конец      |
      | 2018-01-01 | 2019-12-31 |
      | 2020-03-01 | 2021-12-31 |
      | 2022-06-01 | 2023-12-31 |
    Когда я анализирую перерывы
    Тогда должны быть найдены перерывы:
      | после_периода | длительность_перерыва |
      | 2019-12-31    | 2 месяца              |
      | 2021-12-31    | 5 месяцев             |

  Структура сценария: Форматирование периодов для отображения
    Когда у меня есть период с "<начало>" по "<конец>"
    Тогда отображение должно быть "<отображение>"

    Примеры:
      | начало     | конец          | отображение                    |
      | 2020-01    | 2020-12        | Январь 2020 - Декабрь 2020     |
      | 2020-01-15 | 2020-01-31     | 15 - 31 Января 2020           |
      | 2020-01    | настоящее время| Январь 2020 - настоящее время  |
      | 2020       | 2023           | 2020 - 2023                    |

  Сценарий: Статистика по периодам
    Дано у меня есть полная история периодов:
      | тип         | количество | общая_длительность |
      | Работа      | 5          | 12 лет             |
      | Образование | 3          | 6 лет              |
      | Стажировка  | 2          | 1 год              |
    Когда я запрашиваю статистику
    Тогда должна быть показана:
      | метрика                      | значение |
      | Общий опыт                   | 19 лет   |
      | Средняя длительность работы  | 2.4 года |
      | Количество смен работы       | 5        |
      | Самый длинный период         | 5 лет    |
      | Самый короткий период        | 3 месяца |

  Сценарий: Валидация будущих дат
    Когда я пытаюсь создать период с "2030-01-01" по "2031-12-31"
    Тогда должно быть предупреждение "Период полностью в будущем"
    Но период должен быть сохранен с пометкой "планируемый"

  Сценарий: Обработка неполных дат
    Когда я ввожу период только с годами "2020" - "2022"
    Тогда система должна интерпретировать как:
      | начало     | конец      |
      | 2020-01-01 | 2022-12-31 |
    Когда я ввожу период с месяцами "2020-03" - "2022-08"
    Тогда система должна интерпретировать как:
      | начало     | конец      |
      | 2020-03-01 | 2022-08-31 |

  Сценарий: Группировка периодов по годам
    Дано у меня есть периоды:
      | начало     | конец      | должность    |
      | 2019-10-01 | 2020-03-31 | Junior Dev   |
      | 2020-04-01 | 2021-06-30 | Middle Dev   |
      | 2021-07-01 | 2022-12-31 | Senior Dev   |
    Когда я группирую по годам
    Тогда должны получиться группы:
      | год  | периоды                      | месяцев_в_году |
      | 2019 | Junior Dev (окт-дек)         | 3              |
      | 2020 | Junior Dev (янв-мар), Middle Dev (апр-дек) | 12    |
      | 2021 | Middle Dev (янв-июн), Senior Dev (июл-дек) | 12    |
      | 2022 | Senior Dev (янв-дек)         | 12             |