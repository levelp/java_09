# language: ru
Функция: Интеграционное тестирование с внешними системами
  Как система
  Я должна корректно интегрироваться с внешними сервисами
  Чтобы обеспечить полную функциональность

  Сценарий: Интеграция с почтовым сервером
    Когда новый пользователь регистрируется
    Тогда должно быть отправлено письмо подтверждения
    И письмо должно содержать:
      | ссылка активации |
      | имя пользователя |
      | инструкции |
    Когда пользователь переходит по ссылке активации
    Тогда аккаунт должен быть активирован

  Сценарий: Интеграция с облачным хранилищем
    Когда я загружаю фото профиля
    Тогда фото должно быть загружено в S3/MinIO
    И должна быть создана миниатюра
    И должен быть возвращен публичный URL
    Когда я удаляю резюме
    Тогда связанные файлы должны быть удалены из хранилища

  Сценарий: Интеграция с системой аналитики
    Когда происходят события:
      | просмотр резюме |
      | создание резюме |
      | скачивание PDF |
    Тогда события должны быть отправлены в Google Analytics
    И должны содержать метаданные:
      | ID пользователя |
      | тип события |
      | временная метка |
      | параметры |

  Сценарий: Синхронизация с календарем
    Когда я добавляю период работы с датами
    И включаю синхронизацию с календарем
    Тогда должно быть создано событие в Google Calendar
    И событие должно содержать:
      | название организации |
      | должность |
      | даты начала и конца |

  Сценарий: Интеграция с системой уведомлений
    Когда происходит важное событие
    Тогда должны быть отправлены уведомления через:
      | email | если включено в настройках |
      | SMS | для критических событий |
      | Push | для мобильного приложения |
      | Telegram | если подключен бот |

  Сценарий: Резервное копирование в облако
    Когда наступает время резервного копирования
    Тогда должен быть создан бэкап всех резюме
    И бэкап должен быть зашифрован
    И загружен в облачное хранилище
    И должна быть проверена целостность
    И старые бэкапы должны быть удалены согласно политике

  Сценарий: Интеграция с HR системами
    Когда HR система запрашивает резюме через API
    Тогда должен быть предоставлен доступ по OAuth 2.0
    И данные должны быть отданы в формате:
      | JSON для современных систем |
      | XML для legacy систем |
      | CSV для импорта в Excel |

  Сценарий: Интеграция с социальными сетями
    Когда я нажимаю "Поделиться в LinkedIn"
    Тогда должен быть создан пост с:
      | превью резюме |
      | ссылка на полную версию |
      | хештеги |
    И должна быть возможность кастомизации поста